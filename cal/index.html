<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/>
<title>cal</title>
<link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>

<div class="container">

  <iframe id="calendar" src="" style="border: 0" width="800" height="600" frameborder="0" scrolling="no"></iframe>

  <!-- <div id="tz" style="display:none;">
    <select id="zones">
      <option value="America/New_York">NYC</option>
      <option value="America/Los_Angeles">LA</option>
    </select>
  </div> -->

</div>

<script>
(function () {
  var calUrl = 'https://calendar.google.com/calendar/embed?src=ilr6oeh0bnaajps2odvh8k65so%40group.calendar.google.com&ctz=';
  var iframe = document.getElementById('calendar');
  function checkIframeLoaded() {
    var iframeDoc = typeof iframe !== null && iframe.contentDocument || iframe.contentWindow.document;
    console.info(iframeDoc.readyState);
    if (iframeDoc.readyState === 'complete') {
      var elem = document.getElementById('tz');
      console.info('elem');
      elem.style.display = 'block';
      iframe.contentWindow.onload = function () {
      };
      //afterLoading();
      return;
    }
  }
  function loadIframe() {
    var location = 'America/New_York';
    var src = calUrl + location;
    var zones = document.getElementById('zones');
    iframe.src = src;
    /*zones.onchange = function (elem) {
      console.info(this.value);
      var location = this.value || 'America/New_York';
      var src = calUrl + location;
      iframe = document.getElementById('calendar');
      iframe.src = src;
     } */
    checkIframeLoaded();
  }
  loadIframe();
}) ();

</script>

</body>

</html>
